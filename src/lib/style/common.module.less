/*
此文件未开启 CSS Module，定义的是可在任意处引用的通用样式
*/

// ----------------------------
// 定制 Ant Design 组件样式
// ----------------------------

// 用 body 包裹以保证样式优先级高于 Ant Design 原始样式文件
body {
  // size=middle 或 side=small 的表格，缩小表头文字大小
  :global(.ant-table.ant-table-middle),
  :global(.ant-table.ant-table-small) {
    :global(.ant-table-thead) > tr > th {
      font-size: 13px;
    }
  }

  // size=middle 的表格，放宽侧边距
  :global(.ant-table.ant-table-middle) {
    :global(.ant-table-thead) > tr > th,
    :global(.ant-table-tbody) > tr > td {
      padding: 12px 16px;
    }
  }

  // Ant Design 默认字体大小在 variables.js 里被设置为了 12px
  // 但 <Checkbox> 和 <Radio> 的勾选框必须 font-size 为 14 才能保证和文字平齐
  :global(.ant-checkbox),
  :global(.ant-radio) {
    font-size: 14px;
  }
  :global(.ant-radio-input:focus +) {
    :global(.ant-radio-inner) {
      border-color: #4753f4;
      box-shadow: none;
    }
  }
  :global(.ant-radio:hover) {
    :global(.ant-radio-inner) {
      border-color: #4753f4;
    }
  }
  :global(.ant-radio-input:focus) {
    border-color: #4753f4;
    :global(.ant-radio-inner) {
      border-color: #4753f4;
    }
  }
  :global(.ant-radio-checked) {
    :global(.ant-radio-inner) {
      border-color: #4753f4;
    }
  }
  :global(.ant-radio-checked::after) {
    border: 1px solid #4753f4;
  }
  :global(.ant-radio-inner::after) {
    background-color: #4753f4;
  }

  :global(a) {
    color: #4753f4; // 设置全局 a 标签颜色
    text-decoration: none; // 可选：去掉下划线
  }

  :global(a:hover) {
    color: darken(#4753f4, 10%); // 可选：设置鼠标悬停时的颜色
  }
}

:global(.ant-table-cell) {
  :global(.ant-btn-link) {
    padding-left: 8px;
    padding-right: 8px;
  }
}

// Ant Design 分页样式
:global(.ant-pagination) {
  :global(.ant-pagination-item-active) {
    border: none;
    background-color: #4753f4;
    a {
      color: #fff;
    }
    &:hover {
      background-color: darken(#4753f4, 5%);
      border: none;
      a:hover {
        color: lighten(#fff, 5%);
      }
    }
  }

  :global(.ant-pagination-item:hover:not(.ant-pagination-item-active)) {
    a {
      color: #4753f4;
      background-color: #d9d9d9;
      border-radius: 4px;
    }
  }
  // 添加箭头和省略号样式
  :global(.ant-pagination-prev),
  :global(.ant-pagination-next),
  :global(.ant-pagination-jump-prev),
  :global(.ant-pagination-jump-next) {
    &:hover button,
    &:hover :global(.ant-pagination-item-link-icon) {
      color: #4753f4;
      border-color: #4753f4;
    }
  }
  // 输入框样式
  // :global(.ant-pagination-options) {
  //   :global(.ant-select:hover) :global(.ant-select-selector) {
  //     border-color: #4753f4;
  //   }
  //   :global(.ant-select-focused:not(.ant-select-disabled)):global(
  //       .ant-select:not(.ant-select-customize-input)
  //     )
  //     :global(.ant-select-selector) {
  //     border-color: #4753f4;
  //     box-shadow: 0 0 0 2px rgba(71, 83, 244, 0.1);
  //   }
  //   :global(.ant-pagination-options-quick-jumper) input {
  //     &:hover,
  //     &:focus {
  //       border-color: #4753f4;
  //     }
  //     &:focus {
  //       box-shadow: 0 0 0 2px rgba(71, 83, 244, 0.1);
  //     }
  //   }
  //   :global(.ant-select-item-option-selected:not(.ant-select-item-option-disabled)){
  //     background-color: #c1c3e9;
  //   }
  // }
}
// Ant Design form中的input样式
// :global(.ant-form-item-control-input-content) {
//   :global(.ant-input-affix-wrapper:not(.ant-input-affix-wrapper-disabled)) {
//     &:hover {
//       border-color: #4753f4;
//     }
//   }
//   :global(.ant-input-affix-wrapper) {
//     &:focus,
//     &-focused {
//       border-color: #9ca9ff;
//       box-shadow: 0 0 0 2px rgba(157, 170, 255, 0.2);
//     }
//   }
// }

// 给 <Form layout="inline"> 补充字段换行时的样式
:global(.ant-form-inline) {
  row-gap: 12px;
}

// ----------------------------
// 定义通用样式
//
// 规范：公共 class 都以 "app-" 作为前缀
// ----------------------------

// 可自由调整大小的 spin
// 使用方法：给 <Spin> 加上此 className，然后额外设置一个 font-size
:global(.app-spin) {
  .app-spin();
}

.app-spin {
  display: block;
  margin: 0 auto;

  :global(.ant-spin-dot) {
    font-size: inherit;
  }
  :global(.ant-spin-dot-item) {
    height: 0.5em;
    width: 0.5em;
  }
  :global(.ant-spin-text) {
    font-size: 0.45em;
  }
}

// 带图片的 Ant Design Table 单元格，减少空间占用
td:global(.app-image-cell) {
  padding-top: 6px !important;
  padding-bottom: 6px !important;
}

// 紧凑型 Ant Design 按钮
:global(.app-slim-button) {
  .app-slim-button();
}

.app-slim-button {
  &:global(.ant-btn) {
    font-size: 13px;
    height: 31px;
    line-height: 1em;
  }
}
:global(.ant-btn.ant-btn-link:not(.ant-btn-link[disabled], .ant-btn-dangerous)) {
  color: #4753f4;
  &:hover {
    color: darken(#4753f4, 10%);
  }
  &:focus {
    color: darken(#4753f4, 10%);
  }
}
:global(.ant-btn.ant-btn-primary:not(.ant-btn-primary[disabled])) {
  border-color: #4753f4;
  background-color: #4753f4;
  &:hover {
    border-color: darken(#4753f4, 10%);
    background-color: darken(#4753f4, 10%);
  }
  &:focus {
    border-color: darken(#4753f4, 10%);
    background-color: darken(#4753f4, 10%);
  }
}
:global(.ant-btn.ant-btn-default) {
  &:hover,
  &:focus {
    color: #4753f4;
    border-color: #4753f4;
  }
}

// 抛弃 Ant Design Modal 原 footer，自行实现 body 和 footer 的样式
// 约定：
// - body 使用 <main> 标签
// - footer 使用 <footer> 标签
:global(.app-bare-modal) {
  .app-bare-modal();
}

.app-bare-modal {
  :global(.ant-modal-body) {
    padding: 0;
    main {
      .app-modal-main();
    }
    footer {
      .app-modal-footer();
    }
  }
}

// 与 Ant Design Modal 原 body 一致的样式
:global(.app-modal-main) {
  .app-modal-main();
}

.app-modal-main {
  padding: 24px;
}

// 与 Ant Design Modal 原 footer 一致的样式
:global(.app-modal-footer) {
  .app-modal-footer();
}

.app-modal-footer {
  border-top: 1px solid #f0f0f0;
  padding: 10px 16px;
  text-align: right;
  button {
    margin-left: 14px;
  }
}

// 表单型页面的 footer
:global(.app-form-page-footer) {
  .app-form-page-footer();
}

.app-form-page-footer {
  border-top: 1px solid #ddd;
  box-shadow: 0 -2px 6px rgba(#000, 0.1);
  padding: 12px 20px;
  text-align: right;
  button {
    margin-left: 20px;
  }
}

// ----------------------------
// 定义 App 内特定元素样式
// ----------------------------

// 页面根元素
:global(#root) {
  height: 100%;
  min-width: 1024px;
  overflow: hidden;
}

/*
app layout 的页面部分（即 react-router 路由对应的组件显示的部分）的预置样式

页面内容默认适配元素结构：
<Layout.Content>         // .app-page-wrapper
  <header></header>      // .app-page-header
  <main>                 // .app-page-content
    <section></section>  // .app-page-section
    <section></section>
  </main>
</Layout.Content>
部分都是可选的。也可不按照这个结构，在需要的地方自行设置 className 来应用样式。
*/

// 包裹在页面外的容器
:global(.app-page-wrapper) {
  .app-page-wrapper();
}

.app-page-wrapper {
  display: flex;
  flex-direction: column;

  & > header {
    .app-page-header();
  }
  & > main {
    .app-page-content();
  }
}

// 页面根部的 header，会直接与 app layout header 在视觉上相连
:global(.app-page-header) {
  .app-page-header();
}

.app-page-header {
  background-color: #fff;
  box-shadow: 0 2px 3px #eee;
  flex-shrink: 0;
  z-index: 1;
  padding: 0 14px 8px;
}

// 页面根部的内容容器，它本身不会赋予白色背景色，其下用一个或多个 section 放置页面主体内容。
// 其下多个 section 之间会自动应用空格
:global(.app-page-content) {
  .app-page-content();
}

.app-page-content {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow-y: auto;
  padding: 16px 0;
  row-gap: 8px;

  & > section {
    .app-page-section();
  }
}

// 页面内容板块
// 无论有几个 section，最后一个都会自动填满页面空白
:global(.app-page-section) {
  .app-page-section();
}

.app-page-section {
  background-color: #fff;
  border-radius: 4px;
  margin: 0 14px;
  padding: 12px;

  &:last-child {
    flex: 1;
  }
}
